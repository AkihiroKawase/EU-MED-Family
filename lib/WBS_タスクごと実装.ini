````
# EMCA v1 実装WBS・スプリント計画（1週間スプリント, 個人・iOS, 11h/週）
## Notes
- 開始: 2025/10/21（火）／TestFlight: 2025/11/21（金）／提出: 2025/12/31 23:59 JST／本番公開: 2026/01/03
- スコープ: すべてMust（投稿作成／一覧20件ページ番号式／詳細WebView＋コメントボタン／コメント（親20件＋返信展開・無制限）／いいね（一覧に数）／ブックマーク／検索・絞り込み（キーワード・カテゴリ・タグOR）／通知（コメント・返信・いいね, 全体ON/OFF）／マイページ（自分の投稿・通知履歴）／カバー画像）
- 役割: 個人開発（Flutter/Cloud Functions/Notion/デザイン/申請すべて）

# Tasks
- [ ] 0.0 マイルストーン定義
  - [ ] 0.1 M1: バックエンド基本機能可動（10/27）
  - [ ] 0.2 M2: 一覧/詳細（WebView）動作（11/10）
  - [ ] 0.3 M3: TestFlight配信（11/21）
  - [ ] 0.4 M4: 受け入れ基準充足（12/24）
  - [ ] 0.5 M5: 提出（12/31 23:59）
  - [ ] 0.6 M6: 本番公開（01/03）

- [ ] 1.0 Sprint 1（10/21–10/27）M1: Notion/基盤
  - [ ] 1.1 Notion 投稿DB作成（フィールド定義/カテゴリ登録/ビュー）
  - [ ] 1.2 Notion タグDB作成（グループSelect/全タグ登録/Relation接続）
  - [ ] 1.3 Firestore スキーマ決定（comments/likes/bookmarks/postStats/notifications/userSettings）
  - [ ] 1.4 Storage 方針定義（PNG/JPG/≤5MB/16:9トリミング/公開URL）
  - [ ] 1.5 Cloud Functions プロジェクト準備（環境変数/Notion連携設定）
  - [ ] 1.6 Canvaスマート埋め込みURL検証ルール定義
  - [ ] 1.7 バックログ見積り・優先度整理（時間配分11h/週に合わせ調整）

- [ ] 2.0 Sprint 2（10/28–11/03）M1: 投稿API/一覧API
  - [ ] 2.1 POST /posts（Notion保存, published_at UTC自動, 入力検証）
  - [ ] 2.2 GET /posts（ページ番号式20件, 新着順, キーワード/カテゴリ/タグOR対応）
  - [ ] 2.3 GET /posts/{id}（詳細メタ＋Canva URL）
  - [ ] 2.4 一覧TTL=60秒/詳細TTL=300秒キャッシュ実装
  - [ ] 2.5 保存/削除時の対象＋一覧キャッシュパージ実装
  - [ ] 2.6 最小インデックス/ログ方針設定

- [ ] 3.0 Sprint 3（11/04–11/10）M2: 一覧/認証/投稿作成
  - [ ] 3.1 iOSビルド環境/証明書の前準備（ローカル動作確認）
  - [ ] 3.2 認証ガード導線（一覧/詳細へログイン必須）
  - [ ] 3.3 一覧UI（20件ページ番号式/新着順/いいね数表示）
  - [ ] 3.4 検索/カテゴリ/タグ（OR）UI（AND組み合わせ送信）
  - [ ] 3.5 投稿作成UI（タイトル/Canva URL/カテゴリ/タグ/カバー任意）と送信連携

- [ ] 4.0 Sprint 4（11/11–11/17）M2: 詳細/カバー画像
  - [ ] 4.1 詳細画面（WebViewでCanva埋め込み表示）
  - [ ] 4.2 埋め込み不可時の警告＋外部ブラウザで開くボタン
  - [ ] 4.3 カバー画像アップロードフロー（検証/トリミング/公開URL保存）
  - [ ] 4.4 投稿作成→一覧反映のキャッシュ整合確認
  - [ ] 4.5 受け入れ観点の軽微不具合修正（一覧/詳細）

- [ ] 5.0 Sprint 5（11/18–11/24）M3: TestFlight準備（11/21目標）
  - [ ] 5.1 いいね/ブックマークAPI（トグル, postStats増減）
  - [ ] 5.2 一覧/詳細のいいね/ブックマーク操作（即時UI反映）
  - [ ] 5.3 TestFlightメタデータ（名前/説明/スクショ/プライバシー）準備
  - [ ] 5.4 TestFlightビルド作成・アップロード（11/21）
  - [ ] 5.5 テスター配信・フィードバック取得（軽微修正）

- [ ] 6.0 Sprint 6（11/25–12/01）コメント基盤（親）
  - [ ] 6.1 コメント作成API（親, ≤1000文字, 改行可）
  - [ ] 6.2 親コメント一覧API（古い順, 20件/ページ）
  - [ ] 6.3 コメント削除API（本人/管理者, ソフト削除）
  - [ ] 6.4 コメントパネル（ボトムシート）UI・親一覧読み込み
  - [ ] 6.5 ソフト削除表示（[削除済み]）のUI反映

- [ ] 7.0 Sprint 7（12/02–12/08）コメント返信・無制限ネスト
  - [ ] 7.1 返信取得API（親ごとページング, 古い順）
  - [ ] 7.2 階層表示/展開（各親の返信を都度読み込み）
  - [ ] 7.3 返信投稿/削除のUI連携
  - [ ] 7.4 管理者の非表示/削除操作UI（コメントのみ）

- [ ] 8.0 Sprint 8（12/09–12/15）通知/履歴/設定
  - [ ] 8.1 通知トリガー（コメント/返信/いいね）実装
  - [ ] 8.2 通知設定（全体ON/OFF, 既定ON）
  - [ ] 8.3 通知履歴一覧（自分の通知）表示
  - [ ] 8.4 通知タップ遷移（詳細WebView, コメント自動展開なし）

- [ ] 9.0 Sprint 9（12/16–12/22）マイページ/品質
  - [ ] 9.1 自分の投稿一覧（並び・件数・ページング）
  - [ ] 9.2 エラーハンドリング/空状態/ローディング整備
  - [ ] 9.3 パフォーマンス最適化（キャッシュ/クエリ/WebView）
  - [ ] 9.4 受け入れ基準の網羅テスト1回目

- [ ] 10.0 Sprint 10（12/23–12/29）申請準備
  - [ ] 10.1 App Storeメタ（スクショ/説明/キーワード/プライバシー/年齢レーティング）
  - [ ] 10.2 アプリプライバシーの詳細（データ収集/追跡）入力準備
  - [ ] 10.3 最終不具合修正・クラッシュ検知確認
  - [ ] 10.4 受け入れ基準の網羅テスト2回目

- [ ] 11.0 Sprint 11（12/30–12/31）提出
  - [ ] 11.1 リリースビルド作成・アーカイブ・アップロード
  - [ ] 11.2 App Review提出（12/31 23:59 JST まで）
  - [ ] 11.3 リリース準備（01/03手動公開の手順確認/チェックリスト）

- [ ] 12.0 リリース（01/03）
  - [ ] 12.1 公開手続き実施（ストア反映確認）
  - [ ] 12.2 初期不具合監視・緊急対応ルール

## 依存・前提
- [ ] D.1 Apple Developer Program（個人）登録完了（〜11/21）
- [ ] D.2 証明書/プロビジョニング設定完了
- [ ] D.3 Notion APIキー/DB IDの環境設定
- [ ] D.4 Firebaseプロジェクト（iOS）設定・APNs鍵/FCM有効化
````