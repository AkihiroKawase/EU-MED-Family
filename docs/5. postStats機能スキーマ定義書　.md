## 5.1. postStats コレクションの運用ルール
- postStatsコレクションは、各投稿（post）に紐づく統計情報（いいね数、コメント数など）を非正規化して保持します。
- ドキュメントIDには、対象となる投稿のID（postId）をそのまま使用します。 これにより、1つの投稿に対して1つの統計ドキュメントが紐づきます。
- このコレクションのドキュメントは、クライアント（アプリ）から直接作成・編集されるべきではありません。
- サーバーサイド（Cloud Functionsなど）が、likesやcommentsの作成・削除イベントをトリガーとして、対応するカウンター（likesCountなど）をアトミックに増減（Increment）させるために使用します。
- アプリの一覧画面や詳細画面で「いいね数」を表示する際は、likesコレクションを都度集計するのではなく、このpostStatsドキュメントを読み取ることで、高速な表示を実現します。

## 5.2. フィールド: postStats に必要なフィールド
- likesCount: (Number) その投稿の現在の「いいね」総数。
- commentsCount: (Number) その投稿の現在のコメント総数。（※ソフト削除されたコメントを含まない isDeleted: false の件数として運用することを推奨）
- updatedAt: (Timestamp) この統計情報（likesCountなど）が最後に更新された日時。
- （※ bookmarksCount は、通常他ユーザーに公開する情報ではないため、必須ではありませんが、管理者用の統計として必要であれば追加します。）

## 5.3. インデックス（推奨）
- このコレクションはドキュメントID（＝postId）で直接参照（GET）することが主な用途のため、原則として追加のインデックスは不要です。
- （※将来的に「いいねが多い順」で投稿一覧をソートする機能が必要になった場合は、likesCount に対するインデックスが必要になります。）